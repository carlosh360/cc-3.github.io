<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../stylesheets/w3.css">
        <link rel="stylesheet" href="../stylesheets/w3-theme-black.css">
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="icon" href="../images/favicon.png" type="image/x-icon">
        <title>CC3 LAB 2</title>
        <style>
            header {
                background-image: url("../images/header.jpg");
                color: white;
                width:100%;
                min-height:400px;
                max-height:700px;
            }
            .w3-topnav a:first-child:hover{color: #009688;border-bottom: 3px solid transparent;}
        </style>
    </head>
    <body class="w3-light-grey">
        <nav class="w3-topnav w3-center w3-theme w3-card-4 w3-top">
              <a href="../index.html" title="HOME"><i class="fa fa-home w3-large"></i></a>
        </nav>
        <header id="header" class="w3-container w3-card-4 w3-padding-32">
            <div class="w3-center w3-padding-32">
                <div class="w3-center">
                    <h1 class="w3-jumbo">CC3 Estructura de Máquinas</h1>
                    <h1 class="w3-jumbo w3-animate-bottom">Laboratorio 2</h1>
                    <h4 class="w3-xxlarge">C</h4>
                </div>
            </div>
        </header>
        <div class="w3-container w3-margin-16">
            <h1 id="notas" class="w3-card-24 w3-theme w3-round-large w3-padding-left w3-card-4">Objetivos</h1>
            <div class="w3-card-24 w3-white w3-padding-8 w3-round-large">
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    <ul>
                        <li class="w3-large">Aprender como compilar y correr un programa en C.</li>
                        <li class="w3-large">Examinar diferentes tipos de control de flujo en C.</li>
                        <li class="w3-large">Mirar la representación interna de los números.</li>
                    </ul>
                </p>
            </div>
            <h1 id="notas" class="w3-card-24 w3-theme w3-round-large w3-padding-left w3-card-4">Setup</h1>
            <div class="w3-card-24 w3-white w3-padding-8 w3-round-large">
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Descarguen los archivos necesarios para este laboratorio en el siguiente <a href="https://docs.google.com/uc?authuser=0&id=0B6TRsDuz4XayYlhlUWJGSEZfbXc&export=download" target="_blank"><span class="w3-btn w3-red w3-round w3-medium">link</link></a>
                </p>
            </div>
            <h1 id="notas" class="w3-card-24 w3-theme w3-round-large w3-padding-left w3-card-4">Compilando y Corriendo un programa en C</h1>
            <div class="w3-card-24 w3-white w3-padding-8 w3-round-large">
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    En este laboratorio, vamos a utilizar el compilador gcc desde el command line para compilar programas hechos en C. La manera mas simple de correr gcc es la siguiente:
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">$</span> gcc program.c
</pre>
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Esto compila program.c en un archivo ejecutable llamado a.out. Este archivo se puede correr con el siguiente comando.
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">$</span> ./a.out
    <span class="w3-text-brown">HOLA MUNDO !!!</span>
</pre>
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    gcc tiene varias opciones que se le pueden mandar vía command line, las cuales esperamos exploren. En este lab, sin embargo, ustedes van a utilizar únicamente -o, que es usado para especificar el nombre del archivo ejecutable que gcc crea. Usando -o, ustedes van a utilizar los siguientes comandos para compilar program.c en un programa llamado program, y después correrlo.
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">$</span> gcc -o program program.c
    <span class="w3-text-blue">$</span> ./program
    <span class="w3-text-brown">HOLA MUNDO !!!</span>
</pre>
            </div>
            <h1 id="notas" class="w3-card-24 w3-theme w3-round-large w3-padding-left w3-card-4">Ejercicio 1: Un programa simple en C</h1>
            <div class="w3-card-24 w3-white w3-padding-8 w3-round-large">
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    En este ejercicio, vamos a ver un ejemplo de definiciones macro. Las macro pueden ser un tema algo confuso, pero en la manera general en que trabajan es que antes de que un archivo de C es compilado, todos los nombres de las constantes macro son remplazadas exactamente con el valor que se les asigno. En este ejercicio, vamos a usar las definiciones macro exclusivamente como variables constantes. Aquí definimos NOMBRE_DE_CONSTANTE para referirnos a un valor literal (una literal entera). Noten que solo hay un espacio separando el nombre del valor.
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">#define</span>  NOMBRE_DE_CONSTANTE valor_literal
</pre>
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Ahora, miren el código que está en eccentric.c. Van a ver 4 diferentes tipos de control de flujo en C. Primero compilen y corran el programa para ver que hace. Jueguen con los valores de las constantes de las cuatro macro: V0 a V3. Vean como cambiándolas, cambia la salida del programa. Modificando estos únicos 4 valores, hagan un programa que reproduzca la siguiente salida:
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">$</span> gcc -o eccentric eccentric.c
    <span class="w3-text-blue">$</span> ./eccentric
    <span class="w3-text-brown">
    Berkeley eccentrics:
    ====================
    Happy Happy Happy
    Yoshua

    Go BEARS!</span>
</pre>
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Hay muchas combinaciones de valores que pueden dar esta salida. Ustedes deben considerar el menor numero de valores diferentes de V0 a V3 que pueden dar la misma salida. El máximo es 4 cuando todas estas constantes son diferentes unas de las otras.
                </p>
            </div>
            <h1 id="notas" class="w3-card-24 w3-theme w3-round-large w3-padding-left w3-card-4">Ejercicio 2: Bit Operations</h1>
            <div class="w3-card-24 w3-white w3-padding-8 w3-round-large">
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Para este ejercicio, ustedes van a completar bit_ops.c implementado las siguientes 3 funciones de manipulación de bits. Ustedes van a querer utilizar operaciones tales como and (&), or(|), xor(^), not(~), left shiffts (<<), y right shiffts (>>). Procuren no usar ningún ciclo o alguna estructura de control de flujo.
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span style='color:#696969; '>// Retorna el n-esimo bit de x.</span>
    <span style='color:#696969; '>// Asuman que 0 &lt;= n &lt;= 31</span>
    <span style='color:#800000; font-weight:bold; '>unsigned</span> get_bit<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>unsigned</span> x<span style='color:#808030; '>,</span>
                     <span style='color:#800000; font-weight:bold; '>unsigned</span> n<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>

    <span style='color:#696969; '>// Cambia el n-esimo bit del valor de x a v</span>
    <span style='color:#696969; '>// Asuman que 0 &lt;= n &lt;= 31, y v es 0 o 1</span>
    <span style='color:#800000; font-weight:bold; '>void</span> set_bit<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>unsigned</span> <span style='color:#808030; '>*</span> x<span style='color:#808030; '>,</span>
                 <span style='color:#800000; font-weight:bold; '>unsigned</span> n<span style='color:#808030; '>,</span>
                 <span style='color:#800000; font-weight:bold; '>unsigned</span> v<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>

    <span style='color:#696969; '>// Invierte el n-esimo bit del valor de x.</span>
    <span style='color:#696969; '>// Asuman que 0 &lt;= n &lt;= 31</span>
    <span style='color:#800000; font-weight:bold; '>void</span> flip_bit<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>unsigned</span> <span style='color:#808030; '>*</span> x<span style='color:#808030; '>,</span>
                  <span style='color:#800000; font-weight:bold; '>unsigned</span> n<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
</pre>
                    <p class="w3-text w3-justify w3-large w3-margin-16">
                        Una vez que hayan completado estas funciones, pueden compilar y correr su código usando lo siguiente:
                    </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">$</span> gcc -o bit_ops bit_ops.c
    <span class="w3-text-blue">$</span> ./bit_ops
</pre>
                    <p class="w3-text w3-justify w3-large w3-margin-16">
                        Esto va a imprimir los resultados de unas pocas pruebas.
                    </p>
            </div>
            <h1 id="notas" class="w3-card-24 w3-theme w3-round-large w3-padding-left w3-card-4">Ejercicio 3: Bit Analysis</h1>
            <div class="w3-card-24 w3-white w3-padding-8 w3-round-large">
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Para este ejercicio, ustedes van a completar bit_count.c definiendo y implementando una función que analice los bits de un entero. Ustedes necesitan definir una función que dado un entero x sin signo, determine lo siguiente:
                    <ul>
                        <li class="w3-large">Cuantos bits “1” hay en x</li>
                        <li class="w3-large">La posición mas alta de un bit “1” en x</li>
                        <li class="w3-large">La posición mas baja de un bit “1” en x</li>
                    </ul>

                </p>
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Van a asumir enteros de 32 bit, así que las posiciones validas van de 0 a 31. Si todos los bits son 0, ambas posiciones son -1 indicando que no hay bits de 1.<br><br>
                    <strong>En su implementación no pueden usar structs.</Strong><br><br>
                    Una vez que hayan declarado e implementado esta función, pueden compilar y correr su codigo utilizando lo siguiente.
                </p>
<pre class="w3-code w3-light-grey notranslate">
    <span class="w3-text-blue">$</span> gcc -o bit_count bit_count.c
    <span class="w3-text-blue">$</span> ./bit_count 0x801
    <span class="w3-text-brown">   NUMBER: 2049</span>
    <span class="w3-text-brown">     BITS: 2</span>
    <span class="w3-text-brown">HIGHEST 1: 11</span>
    <span class="w3-text-brown"> LOWEST 1: 0</span>
</pre>
                <p class="w3-text w3-justify w3-large w3-margin-16">
                    Noten que el programa toma una entrada, que es el numero que va a ser analizado. Prueben con varios números para ver que su programa este correcto.
                </p>
            </div>
        </div>
        <footer class="w3-container w3-padding-32 w3-theme w3-center">
            <h2>CC3 - 2016</h2>
            <a class="w3-btn-floating w3-teal" href="https://slack.com/" title="SLACK"><i class="fa fa-slack"></i></a>
            <h4>Universidad Galileo</h4>
            <div style="position:relative;bottom:103px;z-index:1;" class="w3-tooltip w3-right">
                <a class="w3-btn w3-theme" href="#header"><span class="w3-xlarge">
                <i class="fa fa-chevron-circle-up"></i></span></a>
            </div>
        </footer>
    </body>
</html>
